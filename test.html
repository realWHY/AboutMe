<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jQuery文本段落展?和折?效果</title>
<style>
.wrapm {overflow: hidden;}
 .read-more{text-align: center;}
</style>
<script src="http://www.ylefu.com/zb_system/script/jquery-2.2.4.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
	var wrampcount=$('.wrapmcount').size();
	console.log("wrampcount=",wrampcount);
	for(i=0;i<wrampcount;i++){
		console.log("i=",i);
		 var slideHeight = 78; // px
		 strWramp = '#wrapm'+i;
		 strReadMore = '.read-more'+i;
		 console.log("strWramp=",strWramp);
		 $(strWramp).css('overflow' , 'hidden');
		 $(strReadMore).css('text-align' , 'center');
		 var defHeight = $(strWramp).height();
		 console.log("defHeight=",defHeight);
		 if(defHeight >= slideHeight){
		  $(strWramp).css('height' , slideHeight + 'px');
		  $(strReadMore).append('<a href="#">read more</a>');
		  console.log(strReadMore+' '+'a');
		  console.log('this = ',$(this));
		  $(strReadMore+' '+'a').click(function(){
		   ReadMoreNowValid = $(this).parent().attr("class");
		   wrampNowValid = $(this).parent().prev().attr("id");
		   var curHeight = $('#'+wrampNowValid).height();
		   console.log("wrampNowValid", wrampNowValid);
		   if(curHeight == slideHeight){
			$('#'+wrampNowValid).animate({
			 height: defHeight
			}, "normal");
			$('.'+ReadMoreNowValid+' '+'a').html('hide');
		   }else{
			console.log("wrampNowValid hide", wrampNowValid);
			$('#'+wrampNowValid).animate({
			 height: slideHeight
			}, "normal");
			$('.'+ReadMoreNowValid+' '+'a').html('read more');
		   }
		   return false;
		  });  
		 }
		}
});
</script>
</head>
<body>
  
  
  <div id="wrapm0" class="wrapmcount">
		
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>

					<div id="gradient"></div>
				   </div>
				   <div class="read-more0"></div>
				   
				   <div id="wrapm1" class="wrapmcount">
		
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>
					  <p>
						I want to do this project in the begining is because my collegues sometimes forgot to order 
						bento dinners which are offered by our company. Due to this reason, i came up with an idea that
						i could write a code to continuously send e-mail to remind them to order bento dinners. At first,
						there was just a text which said: "Don't forget to order bento dinners", but I felt it was so boring 
						if there was just a section of text. Therefore, features like weather predicion was added, and then 
						articles scrapped from ptt(the biggest forum in taiwan dicussing everything accroding to topics)
						also be added and then articles are sorted by the response numbers(also can be refered to the degree of
						popularity).
					  </p>

					<div id="gradient"></div>
				   </div>
				   <div class="read-more1"></div>
</body>
</html>